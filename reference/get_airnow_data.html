<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Download air quality station observations from the US EPA "AirNow" platform — get_airnow_data • airquality</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download air quality station observations from the US EPA " airnow platform get_airnow_data><meta name="description" content="AirNow is a US EPA nationwide voluntary program which hosts non-validated air quality
observation data from stations in the US and many other countries globally.
The AirNow API provides access to hourly raw observation files which are updated
as data are received from the various monitoring agencies. Due to the real-time,
non-validated nature of these data great care must be taken if using these
data to support regulation, trends, guidance, or any other government or public decision making.
It is highly recommended to seek out quality assured data where possible.
[get_airnow_data] provides an easy way to retrieve these observations using
AirNow's station IDs (see [get_airnow_stations]) and a specified date or date range.
Due to the API's file structure, data retrieval time is proportional to the
number of hours of data desired, regardless of the number of stations or variables requested."><meta property="og:description" content="AirNow is a US EPA nationwide voluntary program which hosts non-validated air quality
observation data from stations in the US and many other countries globally.
The AirNow API provides access to hourly raw observation files which are updated
as data are received from the various monitoring agencies. Due to the real-time,
non-validated nature of these data great care must be taken if using these
data to support regulation, trends, guidance, or any other government or public decision making.
It is highly recommended to seek out quality assured data where possible.
[get_airnow_data] provides an easy way to retrieve these observations using
AirNow's station IDs (see [get_airnow_stations]) and a specified date or date range.
Due to the API's file structure, data retrieval time is proportional to the
number of hours of data desired, regardless of the number of stations or variables requested."><meta property="og:image" content="https://b-nilson.github.io/airquality/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">airquality</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/B-Nilson/airquality/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Download air quality station observations from the US EPA "AirNow" platform</h1>
      <small class="dont-index">Source: <a href="https://github.com/B-Nilson/airquality/blob/main/R/get_airnow_data.R" class="external-link"><code>R/get_airnow_data.R</code></a></small>
      <div class="d-none name"><code>get_airnow_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>AirNow is a US EPA nationwide voluntary program which hosts non-validated air quality
observation data from stations in the US and many other countries globally.</p>
<p>The AirNow API provides access to hourly raw observation files which are updated
as data are received from the various monitoring agencies. Due to the real-time,
non-validated nature of these data great care must be taken if using these
data to support regulation, trends, guidance, or any other government or public decision making.
It is highly recommended to seek out quality assured data where possible.</p>
<p>[get_airnow_data] provides an easy way to retrieve these observations using
AirNow's station IDs (see [get_airnow_stations]) and a specified date or date range.</p>
<p>Due to the API's file structure, data retrieval time is proportional to the
number of hours of data desired, regardless of the number of stations or variables requested.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_airnow_data</span><span class="op">(</span></span>
<span>  stations <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="st">"now"</span>,</span>
<span>  variables <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  raw <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  fast <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-stations">stations<a class="anchor" aria-label="anchor" href="#arg-stations"></a></dt>
<dd><p>(Optional).
Either "all" or a character vector specifying AQS IDs for stations to filter data to.
If "all" not provided, data for all stations for each hour in `date_range` are still downloaded,
but only data for desired stations is returned.
Default is "all".</p></dd>


<dt id="arg-date-range">date_range<a class="anchor" aria-label="anchor" href="#arg-date-range"></a></dt>
<dd><p>(Optional).
A datetime vector (or a character vector with dates in "YYYY-MM-DD HH:MM:SS" format, or "now" for current hour) with either 1 or 2 values.
Providing a single value will return data for that hour only,
whereas two values will return data between (and including) those times.
Dates are "backward-looking", so a value of "2019-01-01 01:00" covers from "2019-01-01 00:01"- "2019-01-01 01:00".
Default is "now" (the current hour).</p></dd>


<dt id="arg-variables">variables<a class="anchor" aria-label="anchor" href="#arg-variables"></a></dt>
<dd><p>(Optional).
A character vector of one or more variables to try and get data for.
All variables are downloaded regardless of this parameter, but only data for desired variables is returned.
Default is "all", i.e. all available variables.</p></dd>


<dt id="arg-raw">raw<a class="anchor" aria-label="anchor" href="#arg-raw"></a></dt>
<dd><p>(Optional).
A single logical (TRUE or FALSE) value indicating if
raw data files are desired (i.e. without a standardized format).
Default is FALSE.</p></dd>


<dt id="arg-fast">fast<a class="anchor" aria-label="anchor" href="#arg-fast"></a></dt>
<dd><p>(Optional).
A single logical (TRUE or FALSE) value indicating if, where possible, time-intensive code should be skipped and parallel processing should be used.
Default is FALSE.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>(Optional).
A single logical (TRUE or FALSE) value indicating if
non-critical messages/warnings should be silenced.
Default is FALSE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble of hourly observation data for desired station(s) and date range where available.
Columns returned will vary depending on available data from station(s).
If `raw = FALSE` (default), the returned data will be in a standardized format and units will be attached to each variable.</p>
<p>Dates are UTC time and "backward-looking", so a value of "2019-01-01 01:00" covers from "2019-01-01 00:01"- "2019-01-01 01:00".</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other Data Collection:
<code><a href="get_abgov_data.html">get_abgov_data</a>()</code>,
<code><a href="get_abgov_stations.html">get_abgov_stations</a>()</code>,
<code><a href="get_airnow_stations.html">get_airnow_stations</a>()</code>,
<code><a href="get_bcgov_data.html">get_bcgov_data</a>()</code>,
<code><a href="get_bcgov_stations.html">get_bcgov_stations</a>()</code>,
<code><a href="purpleair_api.html">purpleair_api</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Get data for all stations for first 3 hours (UTC) of Jan 2019</span></span></span>
<span class="r-in"><span><span class="fu">get_airnow_data</span><span class="op">(</span><span class="st">"all"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2019-01-01 01:00:00"</span>, <span class="st">"2019-01-01 03:00:00"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Data from the 'AirNow' repository are collected from the US Environmental Protection Agency and are NOT to be used commercially. Recent observations are not quality assured, and are intended for research and/or situational awareness (**NOT for regulatory decision making**). See `https://www.airnow.gov` for more information.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2025-10-10 06:03:34: Getting hourly files</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2025-10-10 06:03:35: Getting station metadata</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>There was 1 warning in `dplyr::mutate()`.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> In argument: `date_local = format(...)`.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> In group 36: `tz_local = <span style="color: #BB0000;">NA</span>`.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Caused by warning in `with_tz.default()`:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> Unrecognized time zone 'NA'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 10,129 × 22</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_utc            date_local      site_id quality_assured pm25_1hr pm10_1hr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494;">[ug/m3]</span>  <span style="color: #949494;">[ug/m3]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 2019-01-01 <span style="color: #949494;">01:00:00</span> 2018-12-31 21:… 000010… FALSE                 <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 2019-01-01 <span style="color: #949494;">02:00:00</span> 2018-12-31 22:… 000010… FALSE                 <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 2019-01-01 <span style="color: #949494;">03:00:00</span> 2018-12-31 23:… 000010… FALSE                 <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 2019-01-01 <span style="color: #949494;">01:00:00</span> 2018-12-31 21:… 000010… FALSE                  9       <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 2019-01-01 <span style="color: #949494;">02:00:00</span> 2018-12-31 22:… 000010… FALSE                  9       <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 2019-01-01 <span style="color: #949494;">03:00:00</span> 2018-12-31 23:… 000010… FALSE                  7       <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 2019-01-01 <span style="color: #949494;">01:00:00</span> 2018-12-31 21:… 000010… FALSE                 <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 2019-01-01 <span style="color: #949494;">02:00:00</span> 2018-12-31 22:… 000010… FALSE                 <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 2019-01-01 <span style="color: #949494;">03:00:00</span> 2018-12-31 23:… 000010… FALSE                 <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 2019-01-01 <span style="color: #949494;">01:00:00</span> 2018-12-31 21:… 000010… FALSE                 <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 10,119 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 16 more variables: bc_1hr [ug/m3], o3_1hr [ppb], no_1hr [ppb],</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   no2_1hr [ppb], no2y_1hr [ppb], nox_1hr [ppb], noy_1hr [ppb], so2_1hr [ppb],</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   co_1hr [ppb], rh_1hr [%], temp_1hr [°C], wd_1hr [°], ws_1hr [m/s],</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   precip_1hr [mm], pressure_1hr [kPa], solar_1hr [W/m2]</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get data for two specific stations for first 3 hours (UTC) of Jan 2019</span></span></span>
<span class="r-in"><span><span class="fu">get_airnow_data</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"000010102"</span>, <span class="st">"000010401"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2019-01-01 01:00:00"</span>, <span class="st">"2019-01-01 03:00:00"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Data from the 'AirNow' repository are collected from the US Environmental Protection Agency and are NOT to be used commercially. Recent observations are not quality assured, and are intended for research and/or situational awareness (**NOT for regulatory decision making**). See `https://www.airnow.gov` for more information.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2025-10-10 06:03:37: Getting hourly files</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2025-10-10 06:03:37: Getting station metadata</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   date_utc            date_local         site_id quality_assured pm25_1hr o3_1hr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494;">[ug/m3]</span>  <span style="color: #949494;">[ppb]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 2019-01-01 <span style="color: #949494;">01:00:00</span> 2018-12-31 21:30 … 000010… FALSE                 <span style="color: #BB0000;">NA</span>     35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> 2019-01-01 <span style="color: #949494;">02:00:00</span> 2018-12-31 22:30 … 000010… FALSE                 <span style="color: #BB0000;">NA</span>     35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> 2019-01-01 <span style="color: #949494;">03:00:00</span> 2018-12-31 23:30 … 000010… FALSE                 <span style="color: #BB0000;">NA</span>     35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> 2019-01-01 <span style="color: #949494;">01:00:00</span> 2018-12-31 21:30 … 000010… FALSE                  9     37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> 2019-01-01 <span style="color: #949494;">02:00:00</span> 2018-12-31 22:30 … 000010… FALSE                  9     36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> 2019-01-01 <span style="color: #949494;">03:00:00</span> 2018-12-31 23:30 … 000010… FALSE                  7     36</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get non-standardized data for all stations for first 3 hours (PST) of Jan 2019</span></span></span>
<span class="r-in"><span><span class="va">date_range</span> <span class="op">&lt;-</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html" class="external-link">ymd_h</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2019-01-01 01:00:00"</span>, <span class="st">"2019-01-01 03:00:00"</span><span class="op">)</span>, tz <span class="op">=</span> <span class="st">"Etc/GMT+8"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>All formats failed to parse. No formats found.</span>
<span class="r-in"><span><span class="fu">get_airnow_data</span><span class="op">(</span><span class="st">"all"</span>, <span class="va">date_range</span>, raw <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Data from the 'AirNow' repository are collected from the US Environmental Protection Agency and are NOT to be used commercially. Recent observations are not quality assured, and are intended for research and/or situational awareness (**NOT for regulatory decision making**). See `https://www.airnow.gov` for more information.</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in if (any(date_range &lt; within[1])) {    if (all(date_range &lt; within[1])) {        stop("At least one date_range value must be on or after ",             format(within[1], "%F %T %Z"))    }    warning("`date_range` values must be on or after ", format(within[1],         "%F %T %Z"), ".\n ", "Set the `date_range` to a period from this date onwards to stop this warning.")    date_range[date_range &lt; within[1]] &lt;- within[1]}:</span> missing value where TRUE/FALSE needed</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brayden Nilson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

